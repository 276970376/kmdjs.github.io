(function (n) { function l(n, t, u) { var f = i.createElement("script"), s; u && (s = isFunction(u) ? u(n) : u, s && (f.charset = s)), a(f, t, n), f.async = !0, f.src = n, o = f, e ? r.insertBefore(f, e) : r.appendChild(f), o = null } function a(n, t, i) { function u(i) { n.onload = n.onerror = n.onreadystatechange = null, c.debug || r.removeChild(n), n = null, t(i) } var f = "onload" in n; f ? (n.onload = u, n.onerror = function () { throw "bad request!__" + i + "  404 (Not Found) "; }) : n.onreadystatechange = function () { /loaded|complete/.test(n.readyState) && u() } } function v(n, t) { var r, i; if (n.lastIndexOf) return n.lastIndexOf(t); for (r = t.length, i = n.length - 1 - r; i > -1; i--) if (t === n.substr(i, r)) return i; return -1 } var h = "Moonwarriors", i = document, c = {}, r = i.head || i.getElementsByTagName("head")[0] || i.documentElement, e = r.getElementsByTagName("base")[0], o, u = {}, t; u.get = function (n, i) { var f, e, o, u, r, s; for (typeof n == "string" && (n = [n]), r = 0, u = n.length; r < u; r++) v(n[r], ".") == -1 && (n[r] = h + "." + n[r]); for (f = !0, e = [], r = 0, u = n.length; r < u; r++) t.modules[n[r]] ? e.push(t.modules[n[r]]) : f = !1; if (f) i.apply(null, e); else for (o = 0, u = n.length, r = 0; r < u; r++) s = [], l(n[r] + ".js", function () { if (o++, o == u) { for (var r = 0; r < u; r++) t.modules[n[r]] && s.push(t.modules[n[r]]); i.apply(null, s) } }) }, u.exec = function (n) { for (var u, o, s, r = 0, f = n.length; r < f; r++) { var i = n[r], e = [], h = new Function(i.a, i.b); for (u = 0, o = i.d.length; u < o; u++) e.push(t.modules[i.d[u]]); s = h.apply(null, e), t.modules[i.c] = s } }, n.kmdjs = u; var f = !1, y = /xyz/.test(function () { xyz }) ? /_super/ : /.*/, s = function () { }; s.extend = function (n) { function i() { !f && this.ctor && this.ctor.apply(this, arguments) } var e = this.prototype, u, r, t; f = !0, u = new this, f = !1; for (t in n) t != "statics" && (u[t] = typeof n[t] == "function" && typeof e[t] == "function" && y.test(n[t]) ? function (n, t) { return function () { var r = this._super, i; return this._super = e[n], i = t.apply(this, arguments), this._super = r, i } }(t, n[t]) : n[t]); for (r in this) this.hasOwnProperty(r) && r != "extend" && (i[r] = this[r]); if (n.statics) for (t in n.statics) t == "ctor" ? n.statics[t].call(i) : i[t] = n.statics[t]; return i.prototype = u, i.prototype.constructor = i, i.extend = arguments.callee, i }, n.__class = s, t = {}, t.modules = {}, n.__modules = t.modules, t.all = [{ "a": [], "b": "var e=__class.extend({statics:{ctor:function(){var e={bgMusic_mp3:\"res/Music/bgMusic.mp3\",bgMusic_ogg:\"res/Music/bgMusic.ogg\",buttonEffet_mp3:\"res/Music/buttonEffet.mp3\",buttonEffet_ogg:\"res/Music/buttonEffet.ogg\",explodeEffect_mp3:\"res/Music/explodeEffect.mp3\",explodeEffect_ogg:\"res/Music/explodeEffect.ogg\",fireEffect_mp3:\"res/Music/fireEffect.mp3\",fireEffect_ogg:\"res/Music/fireEffect.ogg\",mainMainMusic_mp3:\"res/Music/mainMainMusic.mp3\",mainMainMusic_ogg:\"res/Music/mainMainMusic.ogg\",shipDestroyEffect_mp3:\"res/Music/shipDestroyEffect.mp3\",shipDestroyEffect_ogg:\"res/Music/shipDestroyEffect.ogg\",arial_14_fnt:\"res/arial-14.fnt\",arial_14_png:\"res/arial-14.png\",b01_plist:\"res/b01.plist\",b01_png:\"res/b01.png\",cocos2d_html5_png:\"res/cocos2d-html5.png\",explode_plist:\"res/explode.plist\",explosion_plist:\"res/explosion.plist\",explosion_png:\"res/explosion.png\",flare_jpg:\"res/flare.jpg\",gameOver_png:\"res/gameOver.png\",level01_tmx:\"res/level01.tmx\",loading_png:\"res/loading.png\",logo_png:\"res/logo.png\",menu_png:\"res/menu.png\",menuTitle_png:\"res/menuTitle.png\",textureOpaquePack_plist:\"res/textureOpaquePack.plist\",textureOpaquePack_png:\"res/textureOpaquePack.png\",textureTransparentPack_plist:\"res/textureTransparentPack.plist\",textureTransparentPack_png:\"res/textureTransparentPack.png\"},t=[e.loading_png,e.flare_jpg,e.menu_png,e.logo_png,e.b01_png,e.b01_plist,e.mainMainMusic_mp3,e.mainMainMusic_ogg,e.menuTitle_png,e.textureTransparentPack_plist,e.textureTransparentPack_png],s=[e.cocos2d_html5_png,e.gameOver_png,e.arial_14_png,e.explosion_png,e.textureOpaquePack_png,e.explosion_plist,e.textureOpaquePack_plist,e.bgMusic_mp3,e.bgMusic_ogg,e.buttonEffet_mp3,e.explodeEffect_mp3,e.fireEffect_mp3,e.shipDestroyEffect_mp3,e.buttonEffet_ogg,e.explodeEffect_ogg,e.fireEffect_ogg,e.shipDestroyEffect_ogg,e.arial_14_fnt];this.res=e,this.g_mainmenu=t,this.g_maingame=s}}});return e", "c": "Moonwarriors.Resource", "d": [] }, { "a": ["Resource"], "b": "var e=cc.Layer.extend({statics:{create:function(){var t=new e;return t&&t.init()?t:null}},init:function(){var e=!1;if(this._super()){var t=cc.director.getWinSize(),c=cc.Sprite.create(Resource.res.loading_png);c.anchorX=0,c.anchorY=0,this.addChild(c,0,1);var n=cc.textureCache.addImage(Resource.res.menuTitle_png),i=cc.Sprite.create(n,cc.rect(0,36,100,34));i.x=t.width/2,i.y=t.height-60,this.addChild(i);var r=cc.LabelTTF.create(\"   This showcase utilizes many features from Cocos2d-html5 engine, including: Parallax background, tilemap, actions, ease, frame animation, schedule, Labels, keyboard Dispatcher, Scene Transition. \\n    Art and audio is copyrighted by Enigmata Genus Revenge, you may not use any copyrigted material without permission. This showcase is licensed under GPL. \\n \\n Programmer: \\n Shengxiang Chen (陈升想) \\n Dingping Lv (吕定平) \\n Effects animation: Hao Wu(吴昊)   \\n Quality Assurance:  Sean Lin(林顺)             \\n 跟@当耐特 没有任何关系\",\"Arial\",14,cc.size(.85*t.width,320),cc.TEXT_ALIGNMENT_LEFT);r.attr({x:t.width/2,y:t.height/2-20,anchorX:.5,anchorY:.5}),this.addChild(r);var a=cc.LabelTTF.create(\"Go back\",\"Arial\",14),s=cc.MenuItemLabel.create(a,this.onBackCallback.bind(this)),o=cc.Menu.create(s);o.x=t.width/2,o.y=40,this.addChild(o),e=!0}return e},onBackCallback:function(){var t=cc.Scene.create();t.addChild(this.comeFrom.create()),cc.director.runScene(cc.TransitionFade.create(1.2,t))}});return e", "c": "Moonwarriors.AboutLayer", "d": ["Moonwarriors.Resource"] }, { "a": [], "b": "var e=__class.extend({statics:{randomColor:function(){for(var e=[\"0\",\"1\",\"2\",\"3\",\"4\",\"5\",\"6\",\"7\",\"8\",\"9\",\"A\",\"B\",\"C\",\"D\",\"E\",\"F\"],t=\"#\",c=0;6>c;c++)t+=e[Math.floor(Math.random()*e.length)];return t},random:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}}});return e", "c": "Moonwarriors.Util", "d": [] }, { "a": ["Resource", "AboutLayer", "Util"], "b": "var e=cc.Layer.extend({statics:{ctor:function(){cc.sys.dump()},create:function(){var t=new e;return t&&t.init()?t:null},scene:function(){var t=cc.Scene.create(),c=e.create();return t.addChild(c),t}},_ship:null,init:function(){var t=!1,c=Resource.res;if(this._super()){cc.spriteFrameCache.addSpriteFrames(c.textureTransparentPack_plist);var n=cc.director.getWinSize();this.winSize=n;var i=cc.Sprite.create(c.loading_png);i.anchorX=0,i.anchorY=0,this.addChild(i,0,1);var r=cc.Sprite.create(c.logo_png);r.attr({anchorX:0,anchorY:0,x:0,y:250}),this.addChild(r,10,1);var _=(cc.Sprite.create(c.menu_png,cc.rect(0,0,126,33)),cc.Sprite.create(c.menu_png,cc.rect(0,33,126,33)),cc.Sprite.create(c.menu_png,cc.rect(0,66,126,33)),cc.Sprite.create(c.menu_png,cc.rect(126,0,126,33)),cc.Sprite.create(c.menu_png,cc.rect(126,33,126,33)),cc.Sprite.create(c.menu_png,cc.rect(126,66,126,33)),cc.Sprite.create(c.menu_png,cc.rect(252,0,126,33))),f=cc.Sprite.create(c.menu_png,cc.rect(252,33,126,33)),l=cc.Sprite.create(c.menu_png,cc.rect(252,66,126,33)),h=cc.Sprite.create(c.flare_jpg);this.addChild(h,15,10),h.visible=!1;var m=cc.MenuItemSprite.create(_,f,l,this.onAbout,this),d=cc.Menu.create(m);d.alignItemsVerticallyWithPadding(10),this.addChild(d,1,2),d.x=n.width/2,d.y=n.height/2-80,this.schedule(this.update,.1),this._ship=cc.Sprite.create(\"#ship01.png\"),this.addChild(this._ship,0,4),this._ship.x=Math.random()*n.width,this._ship.y=0,this._ship.runAction(cc.MoveBy.create(2,cc.p(Math.random()*n.width,this._ship.y+n.height+100))),t=!0}return t},onNewGame:function(){cc.LoaderScene.preload(Resource.g_maingame,function(){cc.audioEngine.stopMusic(),cc.audioEngine.stopAllEffects();var e=cc.Scene.create();cc.director.runScene(cc.TransitionFade.create(1.2,e))},this)},onSettings:function(){this.onButtonEffect();var t=cc.Scene.create();cc.director.runScene(cc.TransitionFade.create(1.2,t))},onAbout:function(){this.onButtonEffect();var c=cc.Scene.create(),n=AboutLayer.create();n.comeFrom=e,c.addChild(n),cc.director.runScene(cc.TransitionFade.create(1.2,c))},update:function(){this._ship.y>480&&(this._ship.x=Util.random(0,this.winSize.width),this._ship.y=10,this._ship.runAction(cc.MoveBy.create(parseInt(5*Math.random(),10),cc.p(Math.random()*this.winSize.width,this._ship.y+480))))},onButtonEffect:function(){}});return e", "c": "Moonwarriors.SysMenu", "d": ["Moonwarriors.Resource", "Moonwarriors.AboutLayer", "Moonwarriors.Util"] }, { "a": ["Resource", "SysMenu"], "b": "var e=__class.extend({ctor:function(){cc.game.onStart=function(){cc.view.adjustViewPort(!0),cc.view.setDesignResolutionSize(320,480,cc.ResolutionPolicy.SHOW_ALL),cc.view.resizeWithBrowserSize(!0),cc.LoaderScene.preload(Resource.g_mainmenu,function(){cc.director.runScene(SysMenu.scene())},this)},cc.game.run()}});return e", "c": "Moonwarriors.Main", "d": ["Moonwarriors.Resource", "Moonwarriors.SysMenu"] }], u.exec(t.all), new t.modules["Moonwarriors.Main"] })(this)